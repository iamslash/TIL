# Effective Rust

## Ownership과 Borrowing

1. **소유권 이전보다 차용을 선호** - 소유권이 필요하지 않을 때
2. **라이프타임을 명시적으로 사용** - 참조가 관련될 때
3. **불필요한 clone 피하기** - 참조와 슬라이스 사용
4. **필요할 때 소유된 값 반환** - 함수에서

## 에러 처리

1. **`Result<T, E>` 사용** - 복구 가능한 에러에
2. **`panic!` 사용** - 복구 불가능한 에러에만
3. **`From` trait 구현** - 에러 변환을 위해
4. **`thiserror` 또는 `anyhow` crate 사용** - 더 나은 에러 처리를 위해

## 성능

1. **반복자 선호** - 최적화가 더 잘 됨
2. **`&str` 사용** - 가능한 경우 `String` 대신
3. **핫 패스에서 할당 피하기**
4. **`Vec::with_capacity` 사용** - 크기를 알 때
5. **최적화 전에 프로파일링** - `cargo flamegraph` 같은 도구 사용

## API 설계

1. **`impl Trait` 반환** - 유연성을 위해
2. **빌더 패턴 사용** - 복잡한 생성자에
3. **표준 trait 구현** (`Debug`, `Display`, `Clone` 등)
4. **`Cow<str>` 사용** - 유연한 문자열 API에

## 테스팅

1. **단위 테스트 작성** - `#[test]`와 함께
2. **`#[cfg(test)]` 모듈 사용** - 테스트 코드에
3. **통합 테스트 작성** - `tests/` 디렉토리에
4. **`cargo test` 사용** - 테스트 실행에
5. **예제 문서화** - 테스트로도 작동함
