- [Abstract](#abstract)
- [Understanding With Propensity, Uplift, Utility Models](#understanding-with-propensity-uplift-utility-models)
  - [1. Propensity Model (성향 모델)](#1-propensity-model-성향-모델)
  - [2. Uplift Model (증분 효과 모델)](#2-uplift-model-증분-효과-모델)
  - [3. Utility Model (효용 모델)](#3-utility-model-효용-모델)
- [시나리오: 이커머스 앱에서 “할인 쿠폰 제공”](#시나리오-이커머스-앱에서-할인-쿠폰-제공)
  - [1. Propensity Model (성향 기반)](#1-propensity-model-성향-기반)
  - [2. Uplift Model (증분 효과 기반)](#2-uplift-model-증분-효과-기반)
  - [3. Utility Model (종합 효용 기반)](#3-utility-model-종합-효용-기반)
  - [✅ 요약](#-요약)
- [Causal Inference](#causal-inference)

-----

# Abstract

어떤 조건 (Treatment) 을 만족했을 때 증분 효과를 예측하는 모델이다. 예를 들어 하루에 제한된 like 를 더욱 제공했을 때 매출의 늘어나는 효과를 예측하는 모델을 말한다.

좋은 질문이에요 👍 세 모델은 **문제 성격과 비즈니스 상황**에 따라 쓰임새가 달라집니다. 각각을 예로 들어 설명드릴게요.

---

# Understanding With Propensity, Uplift, Utility Models

## 1. Propensity Model (성향 모델)

* **정의**: “이 유저가 특정 행동을 할 확률”을 예측.
* **언제 쓰면 좋은가**

  * Treatment를 누구에게 줄지 *아직 확신이 없을 때*.
  * 개입 비용이 거의 없거나, *많은 유저에게 뿌려도 손해가 적을 때*.
  * 단순히 “행동 가능성이 높은 사람”을 찾는 게 목표일 때.
* **예시**

  * **추천**: “영화 추천 알림”을 보낼 때, *누가 영화를 클릭할 확률이 높은지* 예측해 보내기.
  * **커머스**: “세일 쿠폰”을 뿌릴 때, *구매할 가능성이 높은 고객* 위주로 보냄.

---

## 2. Uplift Model (증분 효과 모델)

* **정의**: Treatment를 했을 때 **증분 효과(추가 이득)** 를 추정.
* **언제 쓰면 좋은가**

  * Treatment 비용이 크거나, 잘못 타깃팅하면 손해가 날 때.
  * “원래 살 사람”은 제외하고, *개입했을 때만 변화가 생길 사람*을 찾고 싶을 때.
  * 마케팅 효율, 리텐션 실험 등 **효과 차별화**가 중요한 상황.
* **예시**

  * **추천**: “프리미엄 업그레이드 할인 메시지” → *원래는 결제 안 했을 사람 중, 메시지 덕분에 결제할 사람*만 타깃.
  * **게임**: “부스터 아이템 무료 제공” → *아이템 때문에만 재접속하는 유저*를 선별.

---

## 3. Utility Model (효용 모델)

* **정의**: 매출, 리텐션, 비용 등 여러 지표를 합쳐 **비즈니스 효용 함수**로 최적화.
* **언제 쓰면 좋은가**

  * 목표가 단일 지표(매출)보다 복합적일 때.
  * *“매출은 늘리되, 장기 리텐션/안전/비용도 함께 고려해야 하는 상황”*.
  * 의사결정에서 trade-off가 중요할 때.
* **예시**

  * **추천**: “더 많은 swipe 기회 제공” →

    * 매출(결제 전환), 리텐션(다시 앱에 오는 날 수), 비용(추가 노출 자원) 등을 가중치로 묶어 **총 효용**을 극대화.
  * **광고 플랫폼**: “광고 노출” → 매출 uplift + 사용자 경험 저해(피로도) − 비용을 통합 관리.

---

✅ 정리

* **Propensity**: “누가 할 확률이 높나?” (확률 중심)
* **Uplift**: “누구한테 개입하면 변화가 있나?” (증분 중심)
* **Utility**: “비즈니스적으로 종합적으로 이득이 큰 선택은 무엇인가?” (목표 함수 중심)

# 시나리오: 이커머스 앱에서 “할인 쿠폰 제공”

* **Treatment**: 특정 고객에게 20% 할인 쿠폰 제공.
* **Outcome 후보**: Revenue (구매액), Retention (재방문/재구매), Cost (쿠폰 할인 비용).

---

## 1. Propensity Model (성향 기반)

* **질문**: “이 고객은 원래 구매할 확률이 얼마나 되나?”
* **전략**: 구매 가능성이 높은 고객에게 쿠폰 제공.
* **결과**:

  * 이미 살 의향이 있던 고객이 쿠폰 덕분에 싸게 구매 → **쿠폰 낭비** 발생.
* **언제 적합한가**:

  * 쿠폰 비용이 작거나, 단순히 “구매 전환” 수치를 빠르게 올리고 싶을 때.
  * 예: **신규 앱 런칭 초반, 매출 지표를 빠르게 확보하려는 상황**.

---

## 2. Uplift Model (증분 효과 기반)

* **질문**: “쿠폰을 받으면, 이 고객의 구매 가능성이 얼마나 더 늘어날까?”
* **전략**: 쿠폰이 실제로 행동을 바꿀 고객(원래는 안 샀지만, 쿠폰 때문에 사는 고객)만 타깃.
* **결과**:

  * 불필요한 할인은 줄이고, **순증분 매출**을 극대화.
* **언제 적합한가**:

  * 쿠폰 비용이 크고, 낭비를 최소화해야 할 때.
  * 예: **고객 확보 비용이 높은 프리미엄 상품**에 쿠폰을 제한적으로 줄 때.

---

## 3. Utility Model (종합 효용 기반)

* **질문**: “쿠폰 제공으로 얻는 매출 + 재방문 효과 − 쿠폰 비용은 얼마인가?”
* **전략**: Revenue uplift, Retention uplift, Coupon cost를 합쳐 **총 효용**을 최적화.
* **결과**:

  * 단기 매출뿐 아니라 **장기 고객 충성도**까지 고려.
  * 비용 대비 가장 비즈니스적으로 의미 있는 고객군만 타깃.
* **언제 적합한가**:

  * 회사 목표가 단순 매출이 아니라 **매출 + 고객 유지 + 마케팅 효율**일 때.
  * 예: **장기 구독 고객 확보 전략**.

---

## ✅ 요약

* **Propensity** → “누가 살 확률이 높은가?” → 쿠폰 비용이 작거나 단순 매출 지표 확보가 목적일 때.
* **Uplift** → “쿠폰 때문에 진짜 행동이 달라질 고객은 누구인가?” → 비용 크고 효율 따져야 할 때.
* **Utility** → “매출+유지−비용까지 고려해 가장 비즈니스적으로 가치 있는 고객은 누구인가?” → 복합 목표 상황에서 최적.

# Causal Inference

**인과 추론(causal inference)**은 더 넓은 개념이에요.

“어떤 개입(Treatment)이 결과(Y)에 인과적으로 영향을 주었는가?”를 연구하는 학문이자 방법론 전체를 가리킵니다.

여기에 포함되는 기법은 무작위 실험(RCT), 회귀 불연속, 도구변수(IV), 매칭, 이중강건법(Doubly robust) 등 굉장히 다양합니다.

**Uplift 모델(uplift modeling)**은 그 중에서도 개별 수준에서 증분 효과(ITE, Individual Treatment Effect)를 추정하는 실용적 도구예요.

즉, 인과 추론의 응용 분야 중 하나로, 특히 마케팅·추천·리텐션 문제에서 "누구에게 개입해야 가장 효과적인가?"를 푸는 데 사용됩니다.

따라서 말씀하신 대로, 인과 추론이 더 넓은 상위 개념이고, uplift 모델은 그 안에서 문제를 해결하기 위한 특정한 도구라고 보는 게 맞습니다.
